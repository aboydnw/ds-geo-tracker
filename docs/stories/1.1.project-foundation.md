# Story 1.1: Project Foundation & Configuration

## Status
Ready for Review

## Story
**As a** developer,
**I want** a properly structured Node.js project with all dependencies,
**so that** I have a solid foundation to build the GEO tracker.

## Acceptance Criteria
1. Project initialized with `package.json` targeting Node.js 20 LTS (`"engines": { "node": ">=20.0.0" }`)
2. `dotenv` installed as the sole runtime dependency (native `fetch` used for HTTP — no `node-fetch` or `axios`)
3. ES Modules configured (`"type": "module"` in package.json)
4. `.gitignore` configured to exclude `node_modules/`, `.env`, `.DS_Store`
5. `.env.example` file documents required environment variables with placeholder values
6. Project runs without errors when executed: `node index.js`

## Tasks / Subtasks
- [x] Create `package.json` with project metadata and ES module configuration (AC: 1, 3)
  - [x] Set name, version, description
  - [x] Set `"type": "module"` for ES modules
  - [x] Set `"engines": { "node": ">=20.0.0" }`
  - [x] Add `"start": "node index.js"` script
  - [x] Add `"test": "node --test src/**/*.test.js"` script
- [x] Install dependencies (AC: 2)
  - [x] `npm install dotenv`
- [x] Create `.gitignore` file (AC: 4)
  - [x] Add `node_modules/`
  - [x] Add `.env`
  - [x] Add `.DS_Store`
  - [x] Add `*.log`
- [x] Create `.env.example` with documented variables (AC: 5)
  - [x] `PLAUSIBLE_DOMAIN=yourdomain.com`
  - [x] Add comments explaining each variable
  - [x] Note that Events API does not require an API key
- [x] Create minimal `index.js` entry point (AC: 6)
  - [x] Import dotenv using `import 'dotenv/config'`
  - [x] Log startup message
  - [x] Exit cleanly

## Dev Notes
**Project Structure:**
```
geo-tracking/
├── .env.example
├── .gitignore
├── package.json
├── index.js
└── src/
    ├── queries.js      (Story 1.2)
    └── plausible.js    (Story 1.3)
```

**Node.js Version:**
Target Node.js 20 LTS (Active LTS until April 2026, Maintenance until April 2027)

**ES Modules:**
Using native ES modules (`import`/`export`) instead of CommonJS (`require`). This is the modern standard and works well with GitHub Actions.

**Why no `node-fetch`?**
Node.js 20 LTS includes a stable, built-in `fetch` API (via Undici). This eliminates the need for `node-fetch` or `axios` as dependencies. The sole runtime dependency is `dotenv` for loading environment variables from `.env` during local development.

### Testing
- Run `node index.js` and verify it exits cleanly with no errors
- Run `npm start` and verify it executes index.js
- Verify `.env.example` contains all documented variables

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-05 | 0.1 | Initial story created | PO Agent |
| 2026-02-05 | 0.2 | Updated: sole dependency is dotenv, native fetch, removed node-fetch | Reviewer |
| 2026-02-05 | 0.3 | Implementation complete | Dev Agent |

## Dev Agent Record

### Agent Model Used
Claude Opus 4.5 (Cursor IDE)

### Debug Log References
None - clean implementation with no issues.

### Completion Notes
- All tasks completed successfully
- `node index.js` and `npm start` both execute without errors
- dotenv installed as sole runtime dependency (1 package)
- Native Node.js fetch will be used (no node-fetch needed)
- Note: Local system has Node v16, but GitHub Actions will use Node 20 as specified

### File List
| Action | File |
|--------|------|
| Created | `package.json` |
| Created | `package-lock.json` |
| Created | `.gitignore` |
| Created | `.env.example` |
| Created | `index.js` |
| Created | `src/` (directory) |
